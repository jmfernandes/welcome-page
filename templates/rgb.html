
<!DOCTYPE>
<html>
  <head>
  <style>
p  {
    font-family:courier;
    font-size:160%;
}
</style>
  </head>
  <!-- <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js" type="text/javascript" charset="utf-8"></script> -->
  <script src="http://code.jquery.com/jquery-1.7.2.min.js" type="text/javascript" charset="utf-8"></script>
  <body>
  <center>
  <span id="temp">Waiting for data...</span><br>
  <span id="temp2">Waiting for data...</span><br>
  <span id="temp3">Waiting for data...</span><br>
  <br>
  <span id="tstamp"></span><br>
  <p><u>Wait 5 seconds for the device to update</u></p>
  
  <br>
  <br>
  <form name="radForm" action="https://api.particle.io/v1/devices/360033000a47343432313031/led?access_token=70556751a3cf172bb567946e294478d8988e1cc4" method="POST">
    Tell your device what to do!<br>
    <br>
    <input type="radio" name="args" value="red">Turn on red.
    <br>
    <input type="radio" name="args" value="green">Turn on green.
    <br>
    <input type="radio" name="args" value="blue">Turn on blue.
    <br>
    <input type="radio" name="args" value="white">Turn on white.
    <br>
    <input type="radio" name="args" value="yellow">Turn on yellow.
    <br>
    <input type="radio" name="args" value="dimwhite">Turn on dim white.
    <br>
    <input type="radio" name="args" value="off">Turn off.
    <br>
    <input type="submit" value="Do it!">
  </form>
  </center>

  <script type="text/javascript">

//    var rad = document.radForm.args;
//var prev = null;
//for(var i = 0; i < rad.length; i++) {
//    rad[i].onclick = function() {
//        (prev)? console.log(prev.value):null;
 //       if(this !== prev) {
//            prev = this;
//        }
//       console.log(this.value)
//    };
//}

    $('form').live('submit', function(){
      $.post($(this).attr('action'), $(this).serialize(), function(response){
            // do something here on success
      },'json');
      return false;
   });

    window.setInterval(function() {

        var deviceID = "360033000a47343432313031";
        var accessToken = "70556751a3cf172bb567946e294478d8988e1cc4";
        var varName = "analogvalue1";
        var varName2 = "analogvalue2";
        var varName3 = "analogvalue3";

        var red = 0;
        var green = 0;
        var blue = 0;

        requestURL = "https://api.spark.io/v1/devices/" + deviceID + "/" + varName2 + "/?access_token=" + accessToken;
        $.getJSON(requestURL, function(json) {
                if (json.result > 255) {
                  document.getElementById("temp").innerHTML = "amount of red is "+"255";
                document.getElementById("temp").style.fontSize = "28px";
                }
                else if (json.result < 10){
                document.getElementById("temp").innerHTML = "amount of red is "+"0";
                document.getElementById("temp").style.fontSize = "28px";
                }
                else{
                  document.getElementById("temp").innerHTML = "amount of red is "+json.result;
                document.getElementById("temp").style.fontSize = "28px";
                }
                 });

        requestURL = "https://api.spark.io/v1/devices/" + deviceID + "/" + varName3 + "/?access_token=" + accessToken;
        $.getJSON(requestURL, function(json) {
                if (json.result > 255) {
                  document.getElementById("temp2").innerHTML = "amount of green is "+"255";
                document.getElementById("temp2").style.fontSize = "28px";
                }
                else if (json.result < 10){
                document.getElementById("temp2").innerHTML = "amount of green is "+"0";
                document.getElementById("temp2").style.fontSize = "28px";
                }
                else{
                  document.getElementById("temp2").innerHTML = "amount of green is "+json.result;
                document.getElementById("temp2").style.fontSize = "28px";
                }
                 });

        requestURL = "https://api.spark.io/v1/devices/" + deviceID + "/" + varName + "/?access_token=" + accessToken;
        $.getJSON(requestURL, function(json) {
                if (json.result > 255) {
                  document.getElementById("temp3").innerHTML = "amount of blue is "+"255";
                document.getElementById("temp3").style.fontSize = "28px";
                }
                else if (json.result < 10){
                document.getElementById("temp3").innerHTML = "amount of blue is "+"0";
                document.getElementById("temp3").style.fontSize = "28px";
                }
                else{
                  document.getElementById("temp3").innerHTML = "amount of blue is "+json.result;
                document.getElementById("temp3").style.fontSize = "28px";
                }
                document.getElementById("tstamp").innerHTML = json.coreInfo.last_heard;
                 });
        
        

    },5000);
    </script>
  </body>
</html>
